# 计费案例

本文以案例形式介绍对象存储OSS费用的计算方法及计费方案的选择。

以下案例单价来自2018年1月3日阿里云官网公布的详细价格信息。单价的变动请以[阿里云官网](https://www.aliyun.com/price/product#/oss/detail)发布的数据为准。

## 案例一：标准存储（本地冗余）+数据访问

李先生在OSS内存储了505 GB标准存储（本地冗余）类型文件，存储空间所在地域为华东1（杭州），每小时的请求数均值为1000次，每天的外网流出流量约为2 GB 。李先生可以选择以下两种方案进行付费：

-   仅按量计费
    -   存储费用=505 GB\*0.12元/GB/月=60.6元
    -   请求费用=1000\*0.01元/10000次\*24小时\*30天=0.72元
    -   流量费用=2 GB\*30天\*0.5元/GB=30元

        **说明：** OSS计算流量费用时，分为忙时流量（8:00~24:00，0.50元/GB）和闲时流量（00:00~08:00，0.25元/GB），此处按忙时流量计算。

    -   总费用：约91.32元
-   包年包月+按量计费
    -   存储费用=54元（500 GB标准（LRS）存储包）+5 GB\*0.12元/GB/月=54.6元

        **说明：** 超出存储包的5 GB数据按量计费。

    -   请求费用=1000\*0.01元/10000次\*24小时\*30天=0.72元
    -   流量费用=9.96元（50 GB流量包）+10 GB\*0.5元/GB=14.96元

        **说明：**

        -   流量以忙时流量计算。
        -   50 GB流量包只有半年包，平均每月需59.76元/6个月=9.96元。
    -   总费用：约70.28元

## 案例二：低频存储（本地冗余）+数据访问

张先生在OSS内存储了100 GB的低频存储（本地冗余）类型文件。其中，有10000个大小为30 KB的文件。20号的时候，张先生下载了一个大小为1 GB的文件到本地，并将文件内容更新之后重新上传至OSS，更新后的文件大小仍为1 GB。则张先生当月约需支付8.59元：

-   存储费用=100.32 GB\*0.08元/GB/月=8.03元

    **说明：** 低频存储（本地冗余）类型的文件最小存储单元为64 KB，10000个30 KB的文件实际大小约为0.29 GB，OSS实际计量为0.61 GB。所以，存储量计算为100.32 GB。

-   外网流出流量费用=1 GB\*0.5元/GB=0.5元
-   提前删除费用=1 GB\*0.08/GB/月/30天\*10天=0.027元

    **说明：** 上传新的同名文件到OSS会导致OSS内原有文件被删除，并保存新的文件，会产生提前删除费用。

-   数据取回费用=1 GB\*0.0325元/GB=0.0325元
-   请求次数较少，请求费用可忽略
-   总费用：约8.59元

## 案例三：标准存储（本地冗余）+跨区域复制

王先生4月1日在杭州的存储空间A内存储了100 GB标准存储（本地冗余）类型的文件，并且每天新增3 GB的文件。为保障数据存储安全，王先生设置了跨区域复制，将数据同步至上海的存储空间B内。存储空间A和B平均每天的请求数共计约20000次。赵先生可根据情况选择以下付费方式：

-   按量计费
    -   存储费用=（100 GB\*0.12元/月+3\*0.004 元/天\*29 天+3\*0.004\*28+3\*0.004\*27+......+3\*0.004\*1）\*2=34.44 元

        **说明：**

        -   1 GB文件每天的存储费用为0.12元/月/30 天=0.004元/天。
        -   因上海地域需要同步杭州地域的数据，所以总费用需乘2。
    -   跨区域复制流量费用=100 GB\*0.5 元/GB+3 GB\*0.5元/GB\*29 天=93.5 元
    -   请求费用=20000次\*0.01元/10000 次\*30=0.6元
    -   总费用：约128.54元
-   包年包月+按量计费
    -   存储费用=（11（标准（LRS）存储包）+3\*0.004元/天\*29 天+3\*0.004\*28+3\*0.004\*27+......+3\*0.004\*1）\*2=32.44 元

        **说明：** 杭州和上海都买一个100 GB的标准（LRS）存储包。

    -   跨区域复制流量费用=100 GB\*0.5 元/GB+3 GB\*0.5 元/GB\*29 天=93.5元
    -   请求费用=20000次\*0.01元/10000次\*30=0.6 元
    -   总费用：约126.54元
-   若王先生的数据仅增加，不修改，可以将上海地域的备份数据做归档存储
    -   存储费用=（11（标准（LRS）存储包）+3\*0.004 元/天\*29 天+3\*0.004\*28+3\*0.004\*27+......+3\*0.004\*1）+（3（归档（LRS）存储包）+3 GB\*0.011元/GB/天\*29天+3\*0.011\*28+3\*0.011\*27+......+3\*0.011\*1）=20.66 元
    -   跨区域复制流量费用=100 GB\*0.5 元/GB+3 GB\*0.5 元/GB\*29 天=93.5 元
    -   请求费用=20000次\*0.01元/10000次\*30=0.6元
    -   总费用：约114.76元

## 总结

由上面的案例可以看出：

-   当您使用的资源达到一定数值的时候，购买资源包（包年包月）费用更低。
-   存储类型不同，产生的存储费用也不一样，请根据自身的实际情况选择合适的存储类型。
-   若您有大量小于64 KB，需长期存储，且基本不再访问的文件，可将这部分文件打包压缩之后再进行归档存储，可节省大量空间。

