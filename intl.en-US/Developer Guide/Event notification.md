# Event notification

You can use the event notification feature to immediately learn about the operations performed on your OSS resources.

## Limits

-   You can configure up to nine event notification rules for a bucket.
-   Notifications are not sent for the TS and M3U8 objects that are generated by using RTMP ingest.
-   The event notification feature is available in all regions except the China \(Heyuan\), China \(Guangzhou\), China \(Hohhot\), China \(Ulanqab\), UAE \(Dubai\), and Malaysia \(Kuala Lumpur\) regions.

## Event types

|Event type|Description|
|----------|-----------|
|ObjectCreated:PutObject|An object is created or overwritten by using simple upload.|
|ObjectCreated:PostObject|An object is created or overwritten by using form upload.|
|ObjectCreated:CopyObject|An object is created or overwritten by copying the object.|
|ObjectCreated:InitiateMultipartUpload|A multipart upload task is initiated.|
|ObjectCreated:UploadPart|An object is created or overwritten by uploading parts.|
|ObjectCreated:UploadPartCopy|An object is created or overwritten by using multipart upload.|
|ObjectCreated:CompleteMultipartUpload|A multipart upload task is complete.|
|ObjectCreated:AppendObject|An object is created or appended by using append upload.|
|ObjectDownloaded:GetObject|An object is obtained by using simple download.|
|ObjectRemoved:DeleteObject|A single object is deleted.|
|ObjectRemoved:DeleteObjects|Multiple objects are deleted.|
|ObjectReplication:ObjectCreated|An object is created by using cross-region replication.|
|ObjectReplication:ObjectRemoved|An object is deleted by using cross-region replication.|
|ObjectReplication:ObjectModified|An object is overwritten by using cross-region replication.|
|ObjectCreated:All|.An object is created or overwritten.|
|ObjectDownloaded:All|An object is obtained.|
|ObjectRemoved:All|An object is deleted.|

**Note:** The ObjectCreated:All, ObjectDownloaded:All, and ObjectRemoved:All types are available only in China \(Hong Kong\), US \(Silicon Valley\), US \(Virginia\), Germany \(Frankfurt\), Australia \(Sydney\), Singapore, and UK \(London\) regions.

## Notifications

The content of OSS-based event notification is in the JSON format and is Base64-encoded in Base64. The following code provides an example of the decoded content:

```
{"events": [
      {
        "eventName": "",  // The event type.
        "eventSource": "", // The resources that trigger event notification. The value is acs:oss.
        "eventTime": "", // The time when the event was triggered. The returned data is a timestamp that complies to ISO 8601.
        "eventVersion": "", // The version of event notification. The current version is 1.0.
        "oss": {
            "bucket": {
                "arn": "", // The ARN of the bucket. The format is "acs:oss:region:uid:bucketname".
                "name": "", // The bucket name.
                "ownerIdentity": ""}, // The owner of the bucket.
            }, 
            "object": {
                "deltaSize": "", // The variation of object size. If you create an object, the value of this parameter is the size of the object. If you overwrite an object, the value is the difference between the sizes of the new object and the existing object, which may be a negative value.
                "eTag": "", // Specify the ETag value of the object.
                "key": "", // The name of the object.
                "position": "", // This parameter applies only to the ObjectCreated:AppendObject event and indicates the position from which the AppendObject operation starts. The first AppendObject operation on an object starts from byte 0 of the object.
                "readFrom": "", // This parameter applies only to the ObjectDownloaded:GetObject event and indicates the position from which the GetObject operation starts. If the GetObject operation is not performed by range, the value of this parameter is 0. Otherwise, the value is the byte from which the GetObject operation starts.
                "readTo": "", // This parameter applies only to the ObjectDownloaded:GetObject event and indicates the position at which the last GetObject operation ends. If the GetObject operation is not performed by range, the value of this parameter is the object size. Otherwise, the value is the byte next to the byte at which the last GetObject operation ends.
                "size": "" // The size of the object.
                }, 
        "ossSchemaVersion": "", // The version of the schema. The current value is 1.0.
        "ruleId": "GetObject", // The ID of the rule that matches the event.
        "region": "", // The region in which the bucket is located.
        "requestParameters": {
            "sourceIPAddress": "" // The source IP address from which the request is sent.
            }, 
        "responseElements": {
            "requestId": "" // The ID of the request.
            }, 
        "userIdentity": {
            "principalId": "" // The UID of the requester.
            }, 
        "xVars": {  // Custom parameters for OSS callback.
            "x:callback-var1":"value1",
            "x:vallback-var2":"value2"
            }
        }        
     }
  ]
}
```

The following code provides an example of a notification:

```
{"events": [
      {
        "eventName": "ObjectDownloaded:GetObject",
        "eventSource": "acs:oss",
        "eventTime": "2016-07-01T11:17:30.000Z",
        "eventVersion": "1.0",
        "oss": {
            "bucket": {
                "arn": "acs:oss:cn-shenzhen:114895646818****:event-notification-test-shenzhen",
                "name": "event-notification-test-shenzhen",
                "ownerIdentity": "114895646818****"},
            "object": {
                "deltaSize": 0,
                "eTag": "0CC175B9C0F1B6468E1199E269772661",
                "key": "test",
                "readFrom": 0,
                "readTo": 1,
                "size": 1
            },
        "ossSchemaVersion": "1.0",
        "ruleId": "GetObjectRule",
        "region": "cn-shenzhen",
        "requestParameters": {
            "sourceIPAddress": "198.51.100.1"
            },
        "responseElements": {
            "requestId": "5FF16B65F05BC932307A3C3C"
            },
        "userIdentity": {
            "principalId": "114895646818****"
            },
        "xVars": {
            "x:callback-var1":"value1",
            "x:vallback-var2":"value2"
            }
        }        
     }
  ]
}
```

## Configuration methods

You can enable event notification in the OSS console. For more information, see [Configure event notification](/intl.en-US/Console User Guide/Manage buckets/Basic settings/Configure event notification.md).

