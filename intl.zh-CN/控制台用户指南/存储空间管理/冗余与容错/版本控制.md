# 版本控制

版本控制是针对存储空间（Bucket）级别的数据保护功能。开启版本控制后，针对数据的覆盖和删除操作将会以历史版本的形式保存下来。您在错误覆盖或者删除Object后，能够将Bucket中存储的Object恢复至任意时刻的历史版本。

开启版本控制后，OSS会为Bucket中所有Object的每个版本指定唯一的ID值。您可以根据版本ID查找历史版本Object，并随时下载或恢复历史版本Object。更多信息请参见[版本控制介绍](/intl.zh-CN/开发指南/数据安全/版本控制/版本控制介绍.md)。

**说明：**

-   版本控制功能本身不收取任何费用，但对当前版本和所有历史版本的文件都会收取存储费用。为避免不必要的存储费用，请及时删除不需要的历史版本文件；此外，若您对历史版本文件进行下载或恢复等操作，还会产生相应的请求费用、流量费用等。计费详情请参见[计量项与计费项](/intl.zh-CN/计量计费/计量项和计费项/概述.md)。
-   除日本（东京）外，其他地域均已支持版本控制。

## 开启版本控制

-   新建Bucket时开启版本控制。
    1.  登录[OSS管理控制台](https://oss.console.aliyun.com/)。
    2.  在**概览**页右侧，单击**创建Bucket**。
    3.  在创建Bucket页面填写各项参数。

        其中，**版本控制**区域选择**开通**。其他参数详情请参见[创建存储空间](/intl.zh-CN/控制台用户指南/存储空间管理/创建存储空间.md)。

    4.  单击**确定**。
-   对已创建的Bucket开启版本控制。
    1.  登录[OSS管理控制台](https://oss.console.aliyun.com/)。
    2.  单击**Bucket列表**，之后单击目标Bucket名称。
    3.  单击**冗余与容错** \> **版本控制**。

        您也可以在**Bucket列表**中，单击目标Bucket**版本控制**列的**设置**。

    4.  单击**设置**，选择**开通**。

        **说明：** 对于已开通版本控制功能的Bucket，当您不需要再累积Object版本的时候，您可以选择**暂停**。OSS会指定新生成的版本ID为null，并不再生成历史版本，但已经生成的历史版本会继续存在。

    5.  单击**保存**。

## 恢复历史版本

您可以将指定历史版本Object恢复为最新版本。

1.  登录[OSS管理控制台](https://oss.console.aliyun.com/)。

2.  单击**Bucket列表**，之后单击目标Bucket名称。

3.  单击**文件管理**，之后将右上角**历史版本**设置为**显示**。

4.  单击指定版本右侧的**恢复**，OSS将会拷贝您指定版本Object到当前目录，覆盖原有Object成为最新版本。


## 下载历史版本

您可以下载历史版本Object。

1.  登录[OSS管理控制台](https://oss.console.aliyun.com/)。

2.  单击**Bucket列表**，之后单击目标Bucket名称。

3.  单击**文件管理**，之后将右上角**历史版本**设置为**显示**。

4.  单击指定Object版本，在弹出的面板单击**签名URL**右侧的**下载**。

5.  选择Object的保存位置，单击**保存**。


## 删除历史版本

为了减少存储费用，建议您将不再需要的历史版本Object删除。

1.  登录[OSS管理控制台](https://oss.console.aliyun.com/)。

2.  单击**Bucket列表**，之后单击目标Bucket名称。

3.  单击**文件管理**，之后将右上角**历史版本**设置为**显示**。

4.  找到不再需要的历史版本，单击右侧的**彻底删除**。

    您也可以批量选中待删除的历史版本，单击**批量操作** \> **彻底删除**。

5.  单击**确定**。


**说明：**

-   历史版本的删除操作是不可逆的，请谨慎操作。
-   如果您删除的是最新版本，则最新的历史版本会变为最新版本。
-   您也可以配置生命周期规则，定期自动删除历史版本文件。详情请参见[设置生命周期规则](/intl.zh-CN/控制台用户指南/存储空间管理/基础设置/设置生命周期规则.md)。

